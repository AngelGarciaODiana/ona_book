<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>1 Graphs everywhere! | Handbook of Graphs and Networks in People Analytics</title>
<meta name="author" content="Keith McNulty">
<meta name="description" content="If you have ever been lucky enough to pay a visit to the vibrant Russian city of Kaliningrad on the Baltic coast, it’s likely to have been a trip you remember. An unusual exclave of the massive...">
<meta name="generator" content="bookdown 0.22.15 with bs4_book()">
<meta property="og:title" content="1 Graphs everywhere! | Handbook of Graphs and Networks in People Analytics">
<meta property="og:type" content="book">
<meta property="og:url" content="https://ona-book.org/graphs-everywhere.html">
<meta property="og:description" content="If you have ever been lucky enough to pay a visit to the vibrant Russian city of Kaliningrad on the Baltic coast, it’s likely to have been a trip you remember. An unusual exclave of the massive...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="1 Graphs everywhere! | Handbook of Graphs and Networks in People Analytics">
<meta name="twitter:site" content="@dr_keithmcnulty">
<meta name="twitter:description" content="If you have ever been lucky enough to pay a visit to the vibrant Russian city of Kaliningrad on the Baltic coast, it’s likely to have been a trip you remember. An unusual exclave of the massive...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.9.5/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/vis-4.20.1/vis.css" rel="stylesheet">
<script src="libs/vis-4.20.1/vis.min.js"></script><script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script><script src="libs/d3-4.5.0/d3.min.js"></script><script src="libs/forceNetwork-binding-0.4/forceNetwork.js"></script><script src="libs/sankey-1/sankey.js"></script><script src="libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="css/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="With Examples in R and Python">Handbook of Graphs and Networks in People Analytics</a>:
        <small class="text-muted">With Examples in R and Python</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introduction</a></li>
<li><a class="active" href="graphs-everywhere.html"><span class="header-section-number">1</span> Graphs everywhere!</a></li>
<li><a class="" href="working.html"><span class="header-section-number">2</span> Working With Graphs</a></li>
<li><a class="" href="viz-graphs.html"><span class="header-section-number">3</span> Visualizing Graphs</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/keithmcnulty/ona_book">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="graphs-everywhere" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> Graphs everywhere!<a class="anchor" aria-label="anchor" href="#graphs-everywhere"><i class="fas fa-link"></i></a>
</h1>
<p>If you have ever been lucky enough to pay a visit to the vibrant Russian city of Kaliningrad on the Baltic coast, it’s likely to have been a trip you remember. An unusual exclave of the massive Russian Federation, you cannot get to the remainder of Russia from Kaliningrad over land without crossing through at least two other countries. Things have landed this way, like they always do, because of the cards dealt by history. The strategic importance endowed to Kaliningrad owing to its prime coastal position placed it in the center of a tug-of-war, changing hands on numerous occasions over the centuries. At the end of the Second World War as Stalin cast his eye over the ruins of Europe, he considered the city far too strategically important to be left in the hands of any other Eastern-bloc state, and so despite the physical separation it was duly deemed to be Russia’s sovereign territory.</p>
<p>As you might expect, Kaliningrad has only been so named since it became part of the USSR in 1946. Prior to this, and stretching back to the middle ages, it was known as Königsberg — the King’s Mountain — named in honor of King Ottokar II. Steeped in glorious and tragic history, the city is rich in museums, castles, cathedrals and monuments from its past. But for mathematicians like me, Königsberg is perhaps best known for a simple, unassuming puzzle that occupied the minds of many a renaissance intellectual in the 17th century — a problem which, it could be argued, laid the foundations for the highly connected world we live in today.</p>
<p>Königsberg was (and still is, presumably) separated in two by the River Pregel. As the Pregel breaks towards the Baltic sea, two islands form a part of the city. This leads to a city comprised of four land masses. The two mainland masses on either side of the river (known as Altstadt-Loebenicht and Vorstadt-Haberberg) and the two island land masses (Lomse and Kneiphof). A total of seven bridges connected these land masses<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Only two of these bridges still survive today&lt;/p&gt;"><sup>1</sup></a>. Figure <a href="graphs-everywhere.html#fig:koenigsberg">1.1</a> is a suitably historic map of the situation. The island on the left is Kneiphof and the island on the right is Lomse. The beautiful dress worn by the lady in the foreground of this picture is large enough so that one of the seven bridges is entirely covered by it, but you can see the other six.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:koenigsberg"></span>
<img src="www/graphs_everywhere/koenigsberg.png" alt="The Prussian city of K&amp;ouml;nigsberg circa 1600" width="80%"><p class="caption">
Figure 1.1: The Prussian city of Königsberg circa 1600
</p>
</div>
<p>The puzzle went like this: is it possible to devise a walk where you would set foot on all four land masses while crossing all seven bridges only once? There was a strong hunch from trial and error that the answer was no — the problem was how to prove this mathematically. No effective techniques had yet been discovered to allow such a proof.</p>
<p>Leonhard Euler was an 18th century Swiss mathematician who spent the majority of his life in St Petersburg or Berlin. A prolific original thinker, Euler is considered by many as the greatest mathematician of all time. It is impossible to study mathematics even at high school without being constantly exposed to Euler’s work. He popularized the greek letter <span class="math inline">\(\pi\)</span> to denote Archimedes’ constant ratio between the circumference and diameter of a circle, he formalized the letter <span class="math inline">\(i\)</span> to denote the imaginary number <span class="math inline">\(\sqrt{-1}\)</span> and he defined the exponential constant <span class="math inline">\(e\)</span> which is known as <em>Euler’s number</em>. Living between Prussia and Russia at the time of the problem of the Seven Bridges of Königsberg, he set about finding a solution, and the one he discovered is both a testament to the beauty of mathematical proof and the first use of the concept of a graph to solve a mathematical problem.</p>
<p>The first thing Euler did - as any good mathematician will always do - is strip the problem of all its extraneous information and reduce it to its most minimal form. The problem merely requires one to set foot on a land mass. It is not concerned with what route one takes while on that land mass. Therefore we can represent each of the four land masses as dots. We can then draw lines between the dots to represent the bridges. This, he reasoned, leads to a diagram like that in Interactive Figure <a href="graphs-everywhere.html#fig:euler-graph">1.2</a>. The picture can be drawn in infinitely many ways, but it will always be four dots connected by seven lines in the same configuration. If you like, move the nodes around to see what I mean.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:euler-graph"></span>
<div id="htmlwidget-ce8f12c79e792466f32f" style="width:80%;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-ce8f12c79e792466f32f">{"x":{"nodes":{"id":["Altstadt-Loebenicht","Kneiphof","Vorstadt-Haberberg","Lomse"],"label":["Altstadt-Loebenicht","Kneiphof","Vorstadt-Haberberg","Lomse"]},"edges":{"from":["Altstadt-Loebenicht","Altstadt-Loebenicht","Altstadt-Loebenicht","Kneiphof","Kneiphof","Kneiphof","Vorstadt-Haberberg"],"to":["Kneiphof","Kneiphof","Lomse","Lomse","Vorstadt-Haberberg","Vorstadt-Haberberg","Lomse"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"layout":{"randomSeed":1}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script><p class="caption">
Figure 1.2: A minimal representation of the <em>Seven Bridges of Königsberg</em> problem
</p>
</div>
<p>First, Euler observed that if one starts their journey at a certain place and crosses all seven bridges once, there must have been eight total visits to places. This is because we start at a place, and every time we cross a bridge, we add another place to our walk. So if we cross seven bridges, we must visit eight places (including repeat visits to a place).</p>
<p>Euler then looked at any siuation where you have a place A connected to other places by an <em>odd number</em> of bridges. If there was one bridge and it was crossed once, we would only be in place A once - either at the beginning or end of the journey. If there were three bridges and all were crossed once, place A would have been visited twice no matter where we started. If there were five bridges, place A would have been visited three times. If there were <span class="math inline">\(n\)</span> bridges, place A would have been visited <span class="math inline">\((n+1)/2\)</span> times.</p>
<p>Now Euler calculated how many place visits this would mean for Königsberg. Since Kneiphof has five bridges to other places, if all were crossed once Kneiphof would have been visited 3 times. The other three places each have three bridges connecting them, so any such walk would result in 2 visits to each place. Adding all this up, this means that if a walk existed through all four places where every bridge was used only once, there must be nine total place visits. Since this contradicts Euler’s earlier observation that such a walk must involve only eight place visits, we must conclude that such a walk does not exist.</p>
<p>Euler’s proof was the first time a graph like the one in Interactive Figure <a href="graphs-everywhere.html#fig:euler-graph">1.2</a> was used to solve a problem. The solution also involved concepts that would later become critical in the study of graphs. Euler set up the places as <em>vertices</em> or <em>nodes</em> of the graph and he set up the bridges as <em>edges</em>. The proof depends on a conclusion about the number of edges connected to a vertex, which later became known as the <em>degree</em> of a vertex. The proof required the study of <em>walks</em> or <em>paths</em> through the graph. The requirement that a walk could only use each edge once became known as an <em>Euler walk</em> and various algorithms exist today to calculate Euler walks for problems such as constructing DNA sequences from their fragments<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;In fact, Euler extended his proof to consider any graph, and concluded that if an Euler walk exists in a graph, then the number of vertices with odd degree is either 0 or 2. For a fascinating write up of Euler’s original proof, see &lt;span class="citation"&gt;&lt;a href="references.html#ref-paoletti" role="doc-biblioref"&gt;Paoletti&lt;/a&gt; (&lt;a href="references.html#ref-paoletti" role="doc-biblioref"&gt;2006&lt;/a&gt;)&lt;/span&gt;&lt;/p&gt;'><sup>2</sup></a>. Little was Euler to know the Pandora’s Box he had opened.</p>
<div class="thinkahead">
<p><strong>Thinking ahead:</strong> If you know how to load a graph object into R or Python, you could try to load the <code>koenigsberg</code> data set from the <code>onadata</code> package or download it from the internet at <a href="https://ona-data.org/data/koenigsberg.csv" class="uri">https://ona-data.org/data/koenigsberg.csv</a> and create a graph from it. You could use your software to calculate the degrees of the vertices of the graph. For example in R, if you have the data loaded into an <code>igraph</code> object, you can use <code><a href="https://rdrr.io/pkg/igraph/man/degree.html">igraph::degree()</a></code> to get a vector showing you the degrees of each vertex. There is even a package called <code>eulerian</code> in R which has a function <code>hasEulerianPath()</code> which determines whether an Euler walk exists in a given graph.</p>
</div>
<!--
```{=latex}
\colorbox{babyblueeyes}{
\begin{minipage}{\textwidth}
\textbf{Thinking ahead:} If you know how to load a graph object into R or Python, you could try to load the \texttt{koenigsberg} data set from the \texttt{onadata} package or download it from the internet\footnote{\texttt{https://ona-data.org/data/koenigsberg.csv}} and create a graph from it.  You could use your software to calculate the degrees of the vertices of the graph.  For example in R, if you have the data loaded into an \texttt{igraph} object, you can use \texttt{igraph::degree()} to get a vector showing you the degrees of each vertex.  There is even a package called \texttt{eulerian} in R which has a function \texttt{hasEulerianPath()} which determines whether an Euler walk exists in a given graph.  
\end{minipage}
}
```
-->
<div id="graphs-and-networks-are-all-around-us" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Graphs and networks are all around us<a class="anchor" aria-label="anchor" href="#graphs-and-networks-are-all-around-us"><i class="fas fa-link"></i></a>
</h2>
<p>Graphs and networks have existed since long before Euler, and probably since the beginning of time itself. They exist physically, such as in a spider’s web, in the electrical wiring of your home or in the molecules that make up the world around us. Since the time of Euler, graphs have also existed conceptually as the best way we can describe many complex systems.</p>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="index.html">Introduction</a></div>
<div class="next"><a href="working.html"><span class="header-section-number">2</span> Working With Graphs</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#graphs-everywhere"><span class="header-section-number">1</span> Graphs everywhere!</a></li>
<li><a class="nav-link" href="#graphs-and-networks-are-all-around-us"><span class="header-section-number">1.1</span> Graphs and networks are all around us</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/keithmcnulty/ona_book/blob/master/r/01-graphs_everywhere.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/keithmcnulty/ona_book/edit/master/r/01-graphs_everywhere.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Handbook of Graphs and Networks in People Analytics</strong>: With Examples in R and Python" was written by Keith McNulty. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
